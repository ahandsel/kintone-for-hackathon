import{d as x,p as f,y as s,a4 as m,ak as _,b as h,al as k,L as z,g as o,am as C,o as M,e as W,f as i,n as l,B as H,m as S,_ as B}from"./index-e3d12a73.js";import{r as $}from"./recording-eca406ef.js";const j=x({__name:"WebCamera",setup(D){const e=f("slidev-webcam-size",Math.round(Math.min(window.innerHeight,window.innerWidth/8))),a=f("slidev-webcam-pos",{x:window.innerWidth-e.value-30,y:window.innerHeight-e.value-30},{deep:!0}),u=s(),d=s(),r=s(),{streamCamera:c,showAvatar:p}=$,{style:w}=m(u,{initialValue:a,onMove({x:t,y:n}){a.value.x=t,a.value.y=n}}),{isDragging:y}=m(d,{onMove({x:t,y:n}){e.value=Math.max(10,Math.min(t-a.value.x,n-a.value.y)/.8536)}});_(()=>{r.value&&(r.value.srcObject=c.value)},{flush:"post"});const g=h(()=>({width:`${e.value}px`,height:`${e.value}px`})),b=h(()=>({width:"14px",height:"14px",top:`${e.value*.8536-7}px`,left:`${e.value*.8536-7}px`,cursor:"nwse-resize"}));function v(){a.value.x>=window.innerWidth&&(a.value.x=window.innerWidth-e.value-30),a.value.y>=window.innerHeight&&(a.value.y=window.innerHeight-e.value-30)}return k("resize",v),z(v),(t,n)=>o(c)&&o(p)&&o(C)!=="none"?(M(),W("div",{key:0,class:"fixed z-10",style:l(o(w))},[i("div",{ref_key:"frame",ref:u,class:"rounded-full shadow bg-gray-400 bg-opacity-10 overflow-hidden object-cover",style:l(g.value)},[i("video",{ref_key:"video",ref:r,autoplay:"",muted:"",volume:"0",class:"object-cover min-w-full min-h-full rounded-full",style:{transform:"rotateY(180deg)"}},null,512)],4),i("div",{ref_key:"handler",ref:d,class:H(["absolute bottom-0 right-0 rounded-full bg-main shadow opacity-0 shadow z-30 hover:opacity-100 dark:border dark:border-true-gray-700",o(y)?"!opacity-100":""]),style:l(b.value)},null,6)],4)):S("v-if",!0)}}),V=B(j,[["__file","/Users/puppy/GitHub/kintone-for-hackathon/node_modules/@slidev/client/internals/WebCamera.vue"]]);export{V as default};
